#!/usr/bin/env bash

# args: test name, output to diff against, compiler
set -eu
outfile=$2

# Sort by the first number (taskNum) and preserve the order
# within the same taskNum (using -s).
sort -n -k 1,1 -s < $outfile > $outfile.predifftmp
mv $outfile.predifftmp $outfile

# BTW we could strips taskNum and compare the output (modulo status messages)
# against the sequential version, like so:
#   cat par-output | sed 's@^[0-9]*: @@' | diff seq-output -
